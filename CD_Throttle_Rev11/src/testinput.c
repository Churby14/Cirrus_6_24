// ------------------------------------------------------------------------
// NOTICE:  All rights reserved.
// ------------------------------------------------------------------------

// ------------------------------------------------------------------------
// Filename: testinput.c
// Author  : Rick Wright
// Revision: C
//
// Description:     Test Input Function
//
// ------------------------------------------------------------------------

// ------------------------------------------------------------------------
//
// Revision Log:
//
//  A           CRU   Baseline Release   12/21/2021
//  C           RLW   06/14/2022   Changes per PR #19 in PACT
//  C           CRU   06/30/2022   Changes per PR #22 in PACT
//
// ------------------------------------------------------------------------
// Design Details and Explanations:
// ------------------------------------------------------------------------

// ------------------------------------------------------------------------
// Implementation Notes:
// ------------------------------------------------------------------------

// ------------------------------------------------------------------------
//                              Include Files
// ------------------------------------------------------------------------

#include "global.h"

// ------------------------------------------------------------------------
//                               Definitions
// ------------------------------------------------------------------------

// ------------------------------------------------------------------------
//                  Local Conditional Compilation Switches
// ------------------------------------------------------------------------

// ------------------------------------------------------------------------
//                          Local Variables
// ------------------------------------------------------------------------



// ------------------------------------------------------------------------
//
// ProcessTestInput - This routine is called every 20ms and reads the status of
//                    any pin set as a test input pin
//
// Params:    None
//
// Returns:   None
//
// Requirement(s):
//
void ProcessTestInput(void) {

    int32_t i;

    ExecutionStart(EXECUTION_PROCESS_TEST_INPUT);

    for (i = 0; i < 6; i++) {
        if (DIG_HandleStruct[i].DIG_InitStruct.Config == CONFIG_DIG_TEST_IN) {
            SysVars.TestInput = DIG_ReadPin(i);
        }
    }
    ExecutionEnd(EXECUTION_PROCESS_TEST_INPUT);
}



